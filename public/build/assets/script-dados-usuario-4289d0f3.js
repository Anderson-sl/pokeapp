$(document).ready(function(){$("#container-usuario").ready(function(){$.ajax({url:"../controle/Controller.php",dataType:"json",beforeSend:function(){$("#container-usuario").toggleClass("fundo"),$("#container-usuario").html(i)},success:function(e){$("#container-usuario").toggleClass("fundo"),$("#container-usuario").html(e.html),n(),c()},error:function(e,o,s){console.log(e.responseText),$("#container-usuario").html("Ocorreu um erro na comunicação com servidor. Entre em contato com o Administrador!"),$("#container-usuario").append("<br>Teste: "+s)}});function i(){return"<div class='box-progresso'><div id='progresso'><div class='progresso-wraper'><div class='progresso-conteudo'><p>carregando</p><div class='progresso-animacao'></div></div></div></div><div class='clear'></div></div>"}function n(){$("#btn-editar-conta").click(function(){$(".editar-perfil").toggleClass("hide"),$(".excluir-perfil").addClass("hide")}),$("#btn-excluir-conta").click(function(){confirm("Essa ação irá excluir sua conta e seus dados já salvos! Deseja realmente excluir sua conta?")?($(".excluir-perfil").removeClass("hide"),$(".editar-perfil").addClass("hide")):$(".excluir-perfil").addClass("hide")}),$(".btn-descartar button").click(function(){let e=$(this).val().split(",");confirm("Você realmente deseja descartar o Pokemon "+e[1].toUpperCase()+"?")&&$.ajax({url:"../controle/Controller.php",dataType:"json",data:{pokemon_excluir:e[0]},type:"post",error:function(o){},success:function(o){r(o.html,o.status),$(location).attr("href","dadosUsuario.php")}})})}function c(){$("#form-editar-perfil").submit(function(){event.preventDefault();let e=$("#editar").val(),o=$("#nome_editar").val(),s=$("#senha_editar").val(),a=$("#login_editar").val(),u={id:e,nome:o,login:a,senha:s};$.ajax({url:"../controle/Controller.php",dataType:"json",data:{usuario_editar:u},type:"post",error:function(t){r(t.html,t.status)},success:function(t){t.status==0?r(t.html,t.status):$(location).attr("href","dadosUsuario.php")}})}),$("#form-excluir-perfil").submit(function(){event.preventDefault();let e=$("#excluir").val(),o=$("#senha_excluir").val(),s={id:e,senha:o};$.ajax({url:"../controle/Controller.php",dataType:"json",error:function(a){r(a.html,a.status)},success:function(a){a.status==1?(alert(a.html),$(location).attr("href","../index.php")):(r(a.html,a.status),$(".excluir-perfil").toggleClass("hide"))},type:"post",data:{usuario_excluir:s}})})}});function r(i,n){l(),n==1?$("#feedback").fadeIn(500,function(){$("#feedback").addClass("feedback sucesso"),$("#feedback").html("<p>"+i+"</p>")}):$("#feedback").fadeIn(500,function(){$("#feedback").addClass("feedback erro"),$("#feedback").html("<p>"+i+"</p>")}),$("html,body").animate({scrollTop:0},"fast")}function l(){$("#feedback").fadeOut(500,function(){$("#feedback").html(""),$("#feedback").removeClass("feedback sucesso erro")})}});
